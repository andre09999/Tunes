{"version":3,"sources":["components/Carregando.js","components/Login.js","services/searchAlbumsAPI.js","services/userAPI.js","components/Header.js","components/Search.js","services/musicsAPI.js","services/favoriteSongsAPI.js","components/Check.js","components/MusicCard.js","components/Album.js","components/Favorites.js","components/ProfileEdit.js","components/NotFound.js","components/Profile.js","App.js","index.js"],"names":["Carregando","className","React","Component","Login","this","props","loading","nome","habilit","user","buttun","length","htmlFor","type","placeholder","onChange","id","disabled","onClick","searchAlbumsAPI","artist","a","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","fetch","APIResponse","json","results","response","map","artistId","artistName","collectionId","collectionName","collectionPrice","artworkUrl100","releaseDate","trackCount","USER_KEY","saveUser","localStorage","setItem","JSON","stringify","simulateRequest","callback","setTimeout","getUser","Promise","resolve","parse","getItem","Header","state","foto","then","name","setState","ab","to","src","alt","Search","input","button","data","bind","event","value","target","preventDefault","album","element","getMusics","request","requestJson","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","addSong","song","removeSong","filter","s","trackId","Check","favorito","Songs","favo","some","track","favOn","toggle","checked","MusicCard","Preview","trackName","previewUrl","controls","kind","Album","match","params","requisicao","collection","slice","ProfileEdit","NotFound","Profile","lassName","App","login","email","image","description","createUser","exact","path","component","Favorites","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5e7efe07.chunk.js","sourcesContent":["import React from 'react';\n\nclass Carregando extends React.Component {\n  render() {\n    return <p className=\"centraliza\">Carregando...</p>;\n  }\n}\nexport default Carregando;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Carregando from './Carregando';\n\nclass Login extends React.Component {\n  render() {\n    const num = 2;\n    const { loading, nome, habilit, user } = this.props;\n    const buttun = nome.length < num;\n\n    return (\n      <main className=\"login\">\n        {loading\n          ? <Carregando />\n          : (\n            <form data-testid=\"page-login\" className=\"login1\">\n              <label htmlFor=\"login-name-input\">\n                <input\n                  type=\"text\"\n                  data-testid=\"login-name-input\"\n                  placeholder=\"Nome\"\n                  className=\"sem\"\n                  onChange={ habilit }\n                  id=\"input\"\n                />\n              </label>\n              <button\n                data-testid=\"login-submit-button\"\n                type=\"submit\"\n                className=\"sem\"\n                disabled={ buttun }\n                onClick={ user }\n              >\n                Entrar\n              </button>\n            </form>\n          )}\n\n      </main>);\n  }\n}\n\nLogin.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  nome: PropTypes.string.isRequired,\n  habilit: PropTypes.func.isRequired,\n  user: PropTypes.func.isRequired,\n};\n\nexport default Login;\n","const searchAlbumsAPI = async (artist) => {\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const response = results.map(\n    ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }) => ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }),\n  );\n  return response;\n};\n\nexport default searchAlbumsAPI;\n","const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { getUser } from '../services/userAPI';\nimport Carregando from './Carregando';\n\nclass Header extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      nome: '',\n      loading: true,\n      foto: 'https://www.kdulima.com/static/media/node.8683d89cf78ffae3d1f7.png',\n    };\n  }\n\n  componentDidMount() {\n    getUser().then((user) => {\n      const { name } = user;\n      this.setState({\n        nome: name,\n        loading: false,\n        foto: 'https://www.kdulima.com/static/media/node.8683d89cf78ffae3d1f7.png',\n        ab: 'header-user-name',\n      });\n    });\n  }\n\n  render() {\n    const { nome, loading, foto, ab } = this.state;\n    return (\n      <header data-testid=\"header-component\" className=\"cabecalho linha\">\n        <Link to=\"/search\" data-testid=\"link-to-search\">Pesquisa</Link>\n        <Link to=\"/favorites\" data-testid=\"link-to-favorites\">Favoritas</Link>\n        <Link to=\"/profile\" data-testid=\"link-to-profile\">Perfil</Link>\n        <div>\n          {\n            (loading)\n              ? <Carregando className=\"centraliza\" />\n              : (\n                <div className=\"cabecalho\">\n                  <h1 data-testid={ ab } className=\"branco\">{nome}</h1>\n                  <img src={ foto } alt=\"foto\" className=\"foto\" />\n                </div>\n              )\n          }\n        </div>\n\n      </header>);\n  }\n}\n\nexport default Header;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport Header from './Header';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      nome: '',\n      input: '',\n      button: true,\n      data: [],\n    };\n    this.habilit = this.habilit.bind(this);\n    this.user = this.user.bind(this);\n  }\n\n  habilit(event) {\n    const { value } = event.target;\n    if (value.length > 1) {\n      this.setState({\n        button: false,\n        nome: value,\n        input: value,\n      });\n    } else {\n      this.setState({\n        button: true,\n        input: value,\n      });\n    }\n  }\n\n  user(event) {\n    event.preventDefault();\n    const { nome } = this.state;\n    this.setState(() => ({\n    }), async () => {\n      const album = await searchAlbumsAPI(nome);\n      this.setState({\n        data: album,\n        input: '',\n      });\n    });\n  }\n\n  render() {\n    const { button, nome, data, input } = this.state;\n    return (\n      <div>\n        {' '}\n        <Header />\n        <form data-testid=\"page-search\" className=\"centraliza\">\n          <input\n            type=\"text\"\n            data-testid=\"search-artist-input\"\n            onChange={ this.habilit }\n            value={ input }\n          />\n          <button\n            type=\"submit\"\n            data-testid=\"search-artist-button\"\n            disabled={ button }\n            onClick={ this.user }\n          >\n            Pesquisar\n          </button>\n          <form>\n            {\n              (!button)\n                ? <h1>{`Resultado de álbuns de:  ${nome}`}</h1>\n                : <p />\n            }\n            <div className=\"dividi\">\n\n              {\n                data.map((element) => (\n                  <div key={ element.artistId } className=\"album\">\n                    <Link\n                      to={ `/album/${element.collectionId}` }\n                      data-testid={ `link-to-album-${element.collectionId}` }\n                    >\n                      <p>{element.artistName}</p>\n                      <p>{element.artistId}</p>\n                      <p>{element.collectionId}</p>\n                      <p>{element.collectionName}</p>\n                      <p>{element.collectionPrice}</p>\n                      <img src={ element.artworkUrl100 } alt={ element.artistName } />\n                      <p>{element.releaseDate}</p>\n                      <p>{element.trackCount}</p>\n                    </Link>\n                  </div>\n\n                ))\n              }\n            </div>\n            {(!data.length)\n              ? <h1>Nenhum álbum foi encontrado</h1>\n              : <p />}\n\n          </form>\n        </form>\n      </div>);\n  }\n}\n\nexport default Search;\n","const getMusics = async (id) => {\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\n  const requestJson = await request.json();\n  return requestJson.results;\n};\n\nexport default getMusics;\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\nconst TIMEOUT = 500;\nconst SUCCESS_STATUS = 'OK';\n\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\n}\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\n\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso futuramente.\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getFavoriteSongs = () => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  simulateRequest(favoriteSongs)(resolve);\n});\n\nexport const addSong = (song) => new Promise((resolve) => {\n  if (song) {\n    const favoriteSongs = readFavoriteSongs();\n    saveFavoriteSongs([...favoriteSongs, song]);\n  }\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const removeSong = (song) => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { getFavoriteSongs, addSong, removeSong } from '../services/favoriteSongsAPI';\nimport Carregando from './Carregando';\n\nclass Check extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      favo: false,\n      loading: false,\n    };\n  }\n\n  componentDidMount() {\n    this.favorito();\n  }\n\n  favorito = async () => {\n    const { element } = this.props;\n    const Songs = await getFavoriteSongs();\n    const favo = Songs\n      ? Songs.some((track) => track.trackId === element.trackId)\n      : false;\n    this.setState({ favo });\n    return favo;\n  }\n\n  favOn = async (favo) => {\n    const { element } = this.props;\n    const toggle = favo ? removeSong : addSong;\n    this.setState({ loading: true });\n    await toggle(element);\n    this.setState({ loading: false, favo: !favo });\n  }\n\n  render() {\n    const { element } = this.props;\n    const { favo, loading } = this.state;\n\n    return (\n      loading\n        ? <Carregando />\n        : (\n          <label\n            htmlFor={ `favorite-checkbox-${element.trackId}` }\n            data-testid={ `checkbox-music-${element.trackId}` }\n            className=\"vermelho\"\n          >\n            Favorita\n            <input\n              type=\"checkbox\"\n              name=\"favorite\"\n              id={ `favorite-checkbox-${element.trackId}` }\n              checked={ favo }\n              onChange={ () => {\n                this.favOn(favo);\n              } }\n            />\n          </label>));\n  }\n}\n\nCheck.propTypes = {\n  element: PropTypes.shape({\n    trackId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    trackName: PropTypes.string.isRequired,\n    previewUrl: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Check;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Check from './Check';\n\nclass MusicCard extends React.Component {\n  render() {\n    const { Preview } = this.props;\n\n    return (\n      <div className=\"album1\">\n        {Preview.map((element) => (\n          <div key={ element.trackId } className=\"album2\">\n            <p className=\"branco\">{element.trackName}</p>\n            <div className=\"checkMusic\">\n              <audio\n                data-testid=\"audio-component\"\n                src={ element.previewUrl }\n                controls\n              >\n                <track kind=\"captions\" className=\"vermelho\" />\n                O seu navegador não suporta o elemento audio.\n              </audio>\n              <Check element={ element } />\n            </div>\n          </div>\n        ))}\n      </div>);\n  }\n}\nMusicCard.propTypes = {\n  Preview: PropTypes.arrayOf.isRequired,\n};\n\nexport default MusicCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getMusics from '../services/musicsAPI';\nimport MusicCard from './MusicCard';\nimport Header from './Header';\n\nclass Album extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      Preview: [],\n    };\n  }\n\n  componentDidMount() {\n    const { match } = this.props;\n    const { id } = match.params;\n    const requisicao = async () => {\n      const data = await getMusics(id);\n      this.setState({ Preview: data });\n    };\n    requisicao();\n  }\n\n  render() {\n    const { Preview } = this.state;\n    let collection = [];\n    if (Preview.length > 0) {\n      collection = [Preview[0]];\n    }\n    return (\n      <div>\n        <Header />\n        <div data-testid=\"page-album\" className=\"personaliza\">\n\n          <div className=\"album1\">\n            {collection.map((element) => (\n              <div key={ element.artistId } className=\"Informacao\">\n                <img src={ element.artworkUrl100 } alt={ element.artistName } />\n                <p data-testid=\"album-name\">{element.collectionName}</p>\n                <p data-testid=\"artist-name\">{element.artistName}</p>\n              </div>\n            ))}\n          </div>\n          <MusicCard Preview={ Preview.slice(1) } />\n\n        </div>\n      </div>);\n  }\n}\n\nAlbum.propTypes = {\n  match: PropTypes.func.isRequired,\n  id: PropTypes.string.isRequired,\n};\n\nexport default Album;\n","import React from 'react';\nimport Header from './Header';\n\nclass Album extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"page-favorites\">\n        <Header />\n        <p>tock</p>\n      </div>);\n  }\n}\n\nexport default Album;\n","import React from 'react';\nimport Header from './Header';\n\nclass ProfileEdit extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile-edit\">\n        <Header />\n        <p>oii</p>\n      </div>);\n  }\n}\n\nexport default ProfileEdit;\n","import React from 'react';\nimport Header from './Header';\n\nclass NotFound extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"page-not-found\">\n        <Header />\n        <p>NotFound</p>\n      </div>);\n  }\n}\n\nexport default NotFound;\n","import React from 'react';\nimport Header from './Header';\nimport { getUser } from '../services/userAPI';\n\nclass Profile extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      nome: '',\n      foto: 'https://www.kdulima.com/static/media/node.8683d89cf78ffae3d1f7.png',\n    };\n  }\n\n  componentDidMount() {\n    getUser().then((user) => {\n      const { name } = user;\n      this.setState({\n        nome: name,\n        foto: 'https://www.kdulima.com/static/media/node.8683d89cf78ffae3d1f7.png',\n      });\n    });\n  }\n\n  render() {\n    const { nome, foto } = this.state;\n    return (\n      <div data-testid=\"page-profile\" lassName=\"profile\">\n        <Header />\n        <p>{ nome }</p>\n        <img src={ foto } alt=\"foto\" className=\"foto\" />\n      </div>);\n  }\n}\n\nexport default Profile;\n","import React from 'react';\nimport './App.css';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Login from './components/Login';\nimport Search from './components/Search';\nimport Album from './components/Album';\nimport Favorites from './components/Favorites';\nimport ProfileEdit from './components/ProfileEdit';\nimport NotFound from './components/NotFound';\nimport Profile from './components/Profile';\nimport { createUser } from './services/userAPI';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      login: false,\n      nome: '',\n      button: false,\n    };\n    this.habilit = this.habilit.bind(this);\n    this.user = this.user.bind(this);\n  }\n\n  habilit(event) {\n    const num = 2;\n    const { value } = event.target;\n    if (value.length > num) {\n      this.setState({\n        button: false,\n        nome: value,\n      });\n    } else {\n      this.setState({\n        button: true,\n        nome: '',\n      });\n    }\n  }\n\n  user(event) {\n    event.preventDefault();\n    const { nome } = this.state;\n    this.setState(() => ({\n      loading: true,\n    }), () => fetch(createUser({ name: nome }))\n      .then(() => this.setState({ login: true, loading: false })));\n  }\n\n  render() {\n    const { login } = this.state;\n\n    return (\n      <div className=\"pricipal\">\n\n        <Switch>\n          <Route exact path=\"/\">\n            {\n              (login)\n                ? <Redirect to=\"/search\" />\n                : <Login { ...this.state } habilit={ this.habilit } user={ this.user } />\n            }\n          </Route>\n          <Route exact path=\"/\" component={ Login } />\n          <Route path=\"/search\" component={ Search } />\n          <Route path=\"/album/:id\" component={ Album } />\n          <Route path=\"/favorites\" component={ Favorites } />\n          <Route exact path=\"/profile\" component={ Profile } />\n          <Route\n            path=\"/profile/edit\"\n            component={ ProfileEdit }\n          />\n          <Route path=\"*\" component={ NotFound } />\n        </Switch>\n      </div>);\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}